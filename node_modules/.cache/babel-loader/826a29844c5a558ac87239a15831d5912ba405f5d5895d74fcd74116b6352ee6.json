{"ast":null,"code":"import _slicedToArray from \"/Users/ajay.antony/Downloads/library-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/ajay.antony/Downloads/library-app/src/components/Book.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport books from \"../Books\";\nimport { Link, Outlet, Routes } from \"react-router-dom\";\nimport { BookContext } from \"../context/books.context\";\nimport { UserContext } from \"../context/user.context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Book = function Book(props) {\n  _s();\n  console.log(props);\n  var _useState = useState(props.status),\n    _useState2 = _slicedToArray(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useContext = useContext(BookContext),\n    curBooks = _useContext.curBooks,\n    setCurBooks = _useContext.setCurBooks,\n    deleteBook = _useContext.deleteBook;\n  console.log(\"current books\", curBooks);\n  var _useContext2 = useContext(UserContext),\n    curUser = _useContext2.curUser;\n  function update(event, book) {\n    console.log(\"updatinnnngg\");\n    // setCurBooks((prev) => {\n    // \tconsole.log(\"here context\", prev, isbn);\n    // \tconst filtered = prev.filter((book) => book.isbn != isbn);\n    // \treturn [...filtered];\n    // });\n\n    // setStatus(0);\n    deleteBook(curBooks, book);\n  }\n  function wishlist() {}\n  console.log(\"title\", props.title, \"status\", status);\n  return status == 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book grid-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.subtitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Author: \", props.author]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Published on: \", props.published.substring(0, 10)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/bookdetail/\".concat(props.isbn),\n      children: \"Know more\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }, _this), curUser.role === \"admin\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(event) {\n        return update(event, props.isbn);\n      },\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, _this) : props.dashboard == false ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(event) {\n        return rent(event, props);\n      },\n      children: \"Rent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, _this) : null, /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 3\n  }, _this) : null;\n};\n_s(Book, \"X07HTNMDZqiziajc5ulO/9SggmI=\");\n_c = Book;\nexport default Book;\nvar _c;\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"names":["React","Fragment","useContext","useEffect","useState","books","Link","Outlet","Routes","BookContext","UserContext","jsxDEV","_jsxDEV","Book","props","_s","console","log","_useState","status","_useState2","_slicedToArray","setStatus","_useContext","curBooks","setCurBooks","deleteBook","_useContext2","curUser","update","event","book","wishlist","title","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","subtitle","author","published","substring","to","concat","isbn","role","onClick","dashboard","rent","_c","$RefreshReg$"],"sources":["/Users/ajay.antony/Downloads/library-app/src/components/Book.js"],"sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport books from \"../Books\";\nimport { Link, Outlet, Routes } from \"react-router-dom\";\nimport { BookContext } from \"../context/books.context\";\nimport { UserContext } from \"../context/user.context\";\n\nconst Book = (props) => {\n\tconsole.log(props);\n\tconst [status, setStatus] = useState(props.status);\n\tconst { curBooks, setCurBooks, deleteBook } = useContext(BookContext);\n\tconsole.log(\"current books\", curBooks);\n\tconst { curUser } = useContext(UserContext);\n\tfunction update(event, book) {\n\t\tconsole.log(\"updatinnnngg\");\n\t\t// setCurBooks((prev) => {\n\t\t// \tconsole.log(\"here context\", prev, isbn);\n\t\t// \tconst filtered = prev.filter((book) => book.isbn != isbn);\n\t\t// \treturn [...filtered];\n\t\t// });\n\n\t\t// setStatus(0);\n\t\tdeleteBook(curBooks, book);\n\t}\n\tfunction wishlist() {}\n\n\tconsole.log(\"title\", props.title, \"status\", status);\n\treturn status == 1 ? (\n\t\t<div className=\"book grid-item\">\n\t\t\t<h3>{props.title}</h3>\n\t\t\t<p>{props.subtitle}</p>\n\t\t\t<p>Author: {props.author}</p>\n\t\t\t<p>Published on: {props.published.substring(0, 10)}</p>\n\t\t\t<Link to={`/bookdetail/${props.isbn}`}>Know more</Link>\n\n\t\t\t{curUser.role === \"admin\" ? (\n\t\t\t\t<button onClick={(event) => update(event, props.isbn)}>Delete</button>\n\t\t\t) : props.dashboard == false ? (\n\t\t\t\t<button onClick={(event) => rent(event, props)}>Rent</button>\n\t\t\t) : null}\n\n\t\t\t<Outlet />\n\t\t</div>\n\t) : null;\n};\n\nexport default Book;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
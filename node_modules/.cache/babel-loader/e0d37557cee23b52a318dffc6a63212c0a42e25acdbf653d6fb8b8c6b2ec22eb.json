{"ast":null,"code":"import _toConsumableArray from \"/Users/ajay.antony/Downloads/library-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/ajay.antony/Downloads/library-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/ajay.antony/Downloads/library-app/src/components/Book.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport books from \"../Books\";\nimport { Link, Outlet, Routes } from \"react-router-dom\";\nimport { BookContext } from \"../context/books.context\";\nimport { UserContext } from \"../context/user.context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Book = function Book(props) {\n  _s();\n  console.log(props);\n  var _useState = useState(props.status),\n    _useState2 = _slicedToArray(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useContext = useContext(BookContext),\n    curBooks = _useContext.curBooks,\n    setCurBooks = _useContext.setCurBooks;\n  console.log(\"current books\", curBooks);\n  var _useContext2 = useContext(UserContext),\n    curUser = _useContext2.curUser;\n  function update(event, isbn) {\n    console.log(\"updatinnnngg\");\n    setCurBooks(function (prev) {\n      console.log(\"here context\", prev, isbn);\n      var filtered = prev.filter(function (book) {\n        return book.isbn != isbn;\n      });\n      return _toConsumableArray(filtered);\n    });\n    setStatus(0);\n  }\n  function wishlist() {}\n  console.log(\"title\", props.title, \"status\", status);\n  return status == 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book grid-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.subtitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Author: \", props.author]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Published on: \", props.published.substring(0, 10)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/bookdetail/\".concat(props.isbn),\n      children: \"Know more\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, _this), curUser.role === \"user\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(event) {\n        return rent(event, props.isbn);\n      },\n      children: \"Rent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 46\n    }, _this), curUser.role === \"admin\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(event) {\n        return update(event, props.isbn);\n      },\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }, _this) : props.dashboard == false ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(event) {\n        return rent(event, props.isbn);\n      },\n      children: \"Rent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 27\n    }, _this) : null, /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 11\n  }, _this) : null;\n};\n_s(Book, \"TIjIxrt9VEPZ1wTIwp3CIjgEcSc=\");\n_c = Book;\nexport default Book;\nvar _c;\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"names":["React","Fragment","useContext","useEffect","useState","books","Link","Outlet","Routes","BookContext","UserContext","jsxDEV","_jsxDEV","Book","props","_s","console","log","_useState","status","_useState2","_slicedToArray","setStatus","_useContext","curBooks","setCurBooks","_useContext2","curUser","update","event","isbn","prev","filtered","filter","book","_toConsumableArray","wishlist","title","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","subtitle","author","published","substring","to","concat","role","onClick","rent","dashboard","_c","$RefreshReg$"],"sources":["/Users/ajay.antony/Downloads/library-app/src/components/Book.js"],"sourcesContent":["import React, {Fragment, useContext, useEffect, useState} from \"react\";\nimport books from \"../Books\";\nimport {Link, Outlet, Routes} from \"react-router-dom\";\nimport {BookContext} from \"../context/books.context\";\nimport {UserContext} from \"../context/user.context\";\n\nconst Book = (props) => {\n    console.log(props)\n    const [status,\n        setStatus] = useState(props.status);\n    const {curBooks, setCurBooks} = useContext(BookContext);\n    console.log(\"current books\", curBooks)\n    const {curUser} = useContext(UserContext);\n    function update(event, isbn) {\n        console.log(\"updatinnnngg\")\n        setCurBooks((prev) => {\n            console.log(\"here context\", prev, isbn)\n            const filtered = prev.filter((book) => book.isbn != isbn)\n            return ([...filtered])\n        })\n\n        setStatus(0);\n    }\n    function wishlist(){\n\n    }\n\n\n    console.log(\"title\", props.title, \"status\", status)\n    return status == 1\n        ? <div className=\"book grid-item\">\n                <h3>{props.title}</h3>\n                <p>{props.subtitle}</p>\n                <p>Author: {props.author}</p>\n                <p>Published on: {props\n                        .published\n                        .substring(0, 10)}</p>\n                <Link to={`/bookdetail/${props.isbn}`}>Know more\n                </Link>\n                {\n                    curUser.role===\"user\" && <button onClick={event => rent(event, props.isbn)}>Rent</button>\n                }\n                 \n                {curUser.role === \"admin\"\n                    ? <button onClick={event => update(event, props.isbn)}>Delete</button>\n                    : props.dashboard == false\n                        ? <button onClick={event => rent(event, props.isbn)}>Rent</button>\n                        : null\n                }\n\n                <Outlet/>\n            </div>\n            \n        : null\n}\n\nexport default Book;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
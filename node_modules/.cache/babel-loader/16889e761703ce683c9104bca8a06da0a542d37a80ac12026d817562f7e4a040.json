{"ast":null,"code":"import _toConsumableArray from \"/Users/ajay.antony/Downloads/library-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/ajay.antony/Downloads/library-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/ajay.antony/Downloads/library-app/src/components/Book.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport books from \"../Books\";\nimport { Link, Outlet, Routes } from \"react-router-dom\";\nimport { BookContext } from \"../context/books.context\";\nimport { UserContext } from \"../context/user.context\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { deleteFromBooks } from \"./store/book/book.action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Book = function Book(props) {\n  _s();\n  var dispatch = useDispatch();\n  var _useState = useState(props.status),\n    _useState2 = _slicedToArray(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  // const { curBooks, setCurBooks, deleteFromBooks, rentFromBooks } =\n  // \tuseContext(BookContext);\n  var curBooks = useSelector(function (state) {\n    return state.books.curBooks;\n  });\n  //const { curUser } = useContext(UserContext);\n  var curUser = useSelector(function (state) {\n    return state.user.curUser;\n  });\n  function update(event, book) {\n    dispatch(deleteFromBooks(curBooks, book));\n  }\n  // }\n\n  // function rentBook(event, isbn) {\n  // \trentFromBooks(curBooks, isbn);\n  // }\n  function rent(event, isbn) {\n    console.log(curBooks);\n    var filterBooks = curBooks.filter(function (book) {\n      return book.isbn !== isbn;\n    });\n    var findBook = JSON.parse(JSON.stringify(curBooks.filter(function (book) {\n      return book.isbn == isbn;\n    })));\n    findBook[0].rented = true;\n    curUser.rentedBooks.push(findBook[0]);\n    return [].concat(_toConsumableArray(filterBooks), _toConsumableArray(findBook));\n  }\n  function wishlist() {}\n  return props.status == 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book grid-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.subtitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Author: \", props.author]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Published on: \", props.published.substring(0, 10)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, _this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/bookdetail/\".concat(props.isbn),\n      children: \"Know more\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, _this), curUser.role === \"admin\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(event) {\n        return update(event, props);\n      },\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, _this) : props.dashboard == false ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: function onClick(event) {\n        return rent(event, props.isbn);\n      },\n      children: \"Rent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, _this) : null, /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 3\n  }, _this) : null;\n};\n_s(Book, \"Ep0CIiEAUfkqXOZzci8eg9hP2co=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = Book;\nexport default Book;\nvar _c;\n$RefreshReg$(_c, \"Book\");","map":{"version":3,"names":["React","Fragment","useContext","useEffect","useState","books","Link","Outlet","Routes","BookContext","UserContext","useSelector","useDispatch","deleteFromBooks","jsxDEV","_jsxDEV","Book","props","_s","dispatch","_useState","status","_useState2","_slicedToArray","setStatus","curBooks","state","curUser","user","update","event","book","rent","isbn","console","log","filterBooks","filter","findBook","JSON","parse","stringify","rented","rentedBooks","push","concat","_toConsumableArray","wishlist","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","_this","subtitle","author","published","substring","to","role","onClick","dashboard","_c","$RefreshReg$"],"sources":["/Users/ajay.antony/Downloads/library-app/src/components/Book.js"],"sourcesContent":["import React, { Fragment, useContext, useEffect, useState } from \"react\";\nimport books from \"../Books\";\nimport { Link, Outlet, Routes } from \"react-router-dom\";\nimport { BookContext } from \"../context/books.context\";\nimport { UserContext } from \"../context/user.context\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { deleteFromBooks } from \"./store/book/book.action\";\n\nconst Book = (props) => {\n\tconst dispatch = useDispatch();\n\tconst [status, setStatus] = useState(props.status);\n\t// const { curBooks, setCurBooks, deleteFromBooks, rentFromBooks } =\n\t// \tuseContext(BookContext);\n\tconst curBooks = useSelector((state) => state.books.curBooks);\n\t//const { curUser } = useContext(UserContext);\n\tconst curUser = useSelector((state) => state.user.curUser);\n\tfunction update(event, book) {\n\t\tdispatch(deleteFromBooks(curBooks, book));\n\t}\n\t// }\n\n\t// function rentBook(event, isbn) {\n\t// \trentFromBooks(curBooks, isbn);\n\t// }\n\tfunction rent(event, isbn) {\n\t\tconsole.log(curBooks);\n\t\tconst filterBooks = curBooks.filter((book) => book.isbn !== isbn);\n\t\tconst findBook = JSON.parse(\n\t\t\tJSON.stringify(curBooks.filter((book) => book.isbn == isbn))\n\t\t);\n\t\tfindBook[0].rented = true;\n\t\tcurUser.rentedBooks.push(findBook[0]);\n\t\treturn [...filterBooks, ...findBook];\n\t}\n\tfunction wishlist() {}\n\n\treturn props.status == 1 ? (\n\t\t<div className=\"book grid-item\">\n\t\t\t<h3>{props.title}</h3>\n\t\t\t<p>{props.subtitle}</p>\n\t\t\t<p>Author: {props.author}</p>\n\t\t\t<p>Published on: {props.published.substring(0, 10)}</p>\n\t\t\t<Link to={`/bookdetail/${props.isbn}`}>Know more</Link>\n\n\t\t\t{curUser.role === \"admin\" ? (\n\t\t\t\t<button onClick={(event) => update(event, props)}>Delete</button>\n\t\t\t) : props.dashboard == false ? (\n\t\t\t\t<button onClick={(event) => rent(event, props.isbn)}>Rent</button>\n\t\t\t) : null}\n\n\t\t\t<Outlet />\n\t\t</div>\n\t) : null;\n};\n\nexport default Book;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}